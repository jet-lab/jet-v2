<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MarginAccount | @jet-lab/margin - v0.2.11</title><meta name="description" content="Documentation for @jet-lab/margin - v0.2.11"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@jet-lab/margin - v0.2.11</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../modules.html">@jet-lab/margin - v0.2.11</a></li>
<li><a href="MarginAccount.html">MarginAccount</a></li></ul>
<h1>Class MarginAccount</h1></div>
<section class="tsd-panel tsd-hierarchy">
<h4>Hierarchy</h4>
<ul class="tsd-hierarchy">
<li><span class="target">MarginAccount</span></li></ul></section><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L117">libraries/ts/src/margin/marginAccount.ts:117</a></li></ul></aside>
<section class="tsd-panel-group tsd-index-group">
<section class="tsd-panel tsd-index-panel">
<details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary">
<h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex=0><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M1.5 5.50969L8 11.6609L14.5 5.50969L12.5466 3.66086L8 7.96494L3.45341 3.66086L1.5 5.50969Z" fill="var(--color-text)"></path></svg> Index</h5></summary>
<div class="tsd-accordion-details">
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Constructors</h3>
<div class="tsd-index-list"><a href="MarginAccount.html#constructor" class="tsd-index-link tsd-kind-constructor tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-512-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-512-text"></path></svg><span>constructor</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Properties</h3>
<div class="tsd-index-list"><a href="MarginAccount.html#address" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-1024-path"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)" id="icon-1024-text"></path></svg><span>address</span></a>
<a href="MarginAccount.html#info" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>info?</span></a>
<a href="MarginAccount.html#owner" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>owner</span></a>
<a href="MarginAccount.html#poolPositions" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>pool<wbr/>Positions</span></a>
<a href="MarginAccount.html#pools" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>pools?</span></a>
<a href="MarginAccount.html#positions-1" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>positions</span></a>
<a href="MarginAccount.html#programs" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>programs</span></a>
<a href="MarginAccount.html#provider" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>provider</span></a>
<a href="MarginAccount.html#seed" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>seed</span></a>
<a href="MarginAccount.html#summary" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>summary</span></a>
<a href="MarginAccount.html#valuation" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>valuation</span></a>
<a href="MarginAccount.html#walletTokens" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>wallet<wbr/>Tokens?</span></a>
<a href="MarginAccount.html#RISK_CRITICAL_LEVEL" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>RISK_<wbr/>CRITICAL_<wbr/>LEVEL</span></a>
<a href="MarginAccount.html#RISK_LIQUIDATION_LEVEL" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>RISK_<wbr/>LIQUIDATION_<wbr/>LEVEL</span></a>
<a href="MarginAccount.html#RISK_WARNING_LEVEL" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>RISK_<wbr/>WARNING_<wbr/>LEVEL</span></a>
<a href="MarginAccount.html#SEED_MAX_VALUE" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>SEED_<wbr/>MAX_<wbr/>VALUE</span></a>
<a href="MarginAccount.html#SETUP_LEVERAGE_FRACTION" class="tsd-index-link tsd-kind-property tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg><span>SETUP_<wbr/>LEVERAGE_<wbr/>FRACTION</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Accessors</h3>
<div class="tsd-index-list"><a href="MarginAccount.html#isBeingLiquidated" class="tsd-index-link tsd-kind-accessor tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-262144-path"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)" id="icon-262144-text"></path></svg><span>is<wbr/>Being<wbr/>Liquidated</span></a>
<a href="MarginAccount.html#liquidaton" class="tsd-index-link tsd-kind-accessor tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg><span>liquidaton</span></a>
<a href="MarginAccount.html#liquidator" class="tsd-index-link tsd-kind-accessor tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg><span>liquidator</span></a>
<a href="MarginAccount.html#riskIndicator" class="tsd-index-link tsd-kind-accessor tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg><span>risk<wbr/>Indicator</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Methods</h3>
<div class="tsd-index-list"><a href="MarginAccount.html#closeAccount" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#FF4DB8" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-2048-path"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)" id="icon-2048-text"></path></svg><span>close<wbr/>Account</span></a>
<a href="MarginAccount.html#closePosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>close<wbr/>Position</span></a>
<a href="MarginAccount.html#computeRiskIndicator" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>compute<wbr/>Risk<wbr/>Indicator</span></a>
<a href="MarginAccount.html#createAccount" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>create<wbr/>Account</span></a>
<a href="MarginAccount.html#exists" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>exists</span></a>
<a href="MarginAccount.html#findLiquidationAddress" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>find<wbr/>Liquidation<wbr/>Address</span></a>
<a href="MarginAccount.html#findMetadataAddress" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>find<wbr/>Metadata<wbr/>Address</span></a>
<a href="MarginAccount.html#findPositionTokenAddress" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>find<wbr/>Position<wbr/>Token<wbr/>Address</span></a>
<a href="MarginAccount.html#getOrRegisterPosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Or<wbr/>Register<wbr/>Position</span></a>
<a href="MarginAccount.html#getPosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Position</span></a>
<a href="MarginAccount.html#getPositionNullable" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Position<wbr/>Nullable</span></a>
<a href="MarginAccount.html#getPositionPrice" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Position<wbr/>Price</span></a>
<a href="MarginAccount.html#getPositions" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Positions</span></a>
<a href="MarginAccount.html#getRemainingLiquidationTime" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Remaining<wbr/>Liquidation<wbr/>Time</span></a>
<a href="MarginAccount.html#hasAuthority" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>has<wbr/>Authority</span></a>
<a href="MarginAccount.html#liquidateEnd" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>liquidate<wbr/>End</span></a>
<a href="MarginAccount.html#refresh" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>refresh</span></a>
<a href="MarginAccount.html#refreshPositionMetadata" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>refresh<wbr/>Position<wbr/>Metadata</span></a>
<a href="MarginAccount.html#registerPosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>register<wbr/>Position</span></a>
<a href="MarginAccount.html#sendAll" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>send<wbr/>All</span></a>
<a href="MarginAccount.html#sendAndConfirm" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>send<wbr/>And<wbr/>Confirm</span></a>
<a href="MarginAccount.html#setPositionBalance" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>set<wbr/>Position<wbr/>Balance</span></a>
<a href="MarginAccount.html#setPositionPrice" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>set<wbr/>Position<wbr/>Price</span></a>
<a href="MarginAccount.html#stopLiquidation" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>stop<wbr/>Liquidation</span></a>
<a href="MarginAccount.html#updateAllPositionBalances" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>update<wbr/>All<wbr/>Position<wbr/>Balances</span></a>
<a href="MarginAccount.html#updatePositionBalance" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>update<wbr/>Position<wbr/>Balance</span></a>
<a href="MarginAccount.html#withAccountingInvoke" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Accounting<wbr/>Invoke</span></a>
<a href="MarginAccount.html#withAdapterInvoke" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Adapter<wbr/>Invoke</span></a>
<a href="MarginAccount.html#withCloseAccount" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Close<wbr/>Account</span></a>
<a href="MarginAccount.html#withClosePosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Close<wbr/>Position</span></a>
<a href="MarginAccount.html#withCreateAccount" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Create<wbr/>Account</span></a>
<a href="MarginAccount.html#withGetOrRegisterPosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Get<wbr/>Or<wbr/>Register<wbr/>Position</span></a>
<a href="MarginAccount.html#withLiquidateEnd" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Liquidate<wbr/>End</span></a>
<a href="MarginAccount.html#withRefreshPositionMetadata" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Refresh<wbr/>Position<wbr/>Metadata</span></a>
<a href="MarginAccount.html#withRegisterPosition" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Register<wbr/>Position</span></a>
<a href="MarginAccount.html#withStopLiquidation" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Stop<wbr/>Liquidation</span></a>
<a href="MarginAccount.html#withUpdateAllPositionBalances" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Update<wbr/>All<wbr/>Position<wbr/>Balances</span></a>
<a href="MarginAccount.html#withUpdatePositionBalance" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>with<wbr/>Update<wbr/>Position<wbr/>Balance</span></a>
<a href="MarginAccount.html#createAccount-2" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>create<wbr/>Account</span></a>
<a href="MarginAccount.html#exists-2" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>exists</span></a>
<a href="MarginAccount.html#getUnusedAccountSeed" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Unused<wbr/>Account<wbr/>Seed</span></a>
<a href="MarginAccount.html#load" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>load</span></a>
<a href="MarginAccount.html#loadAllByOwner" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>load<wbr/>All<wbr/>By<wbr/>Owner</span></a>
<a href="MarginAccount.html#loadTokens" class="tsd-index-link tsd-kind-method tsd-parent-kind-class"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>load<wbr/>Tokens</span></a>
</div></section></div></details></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Constructors</h2>
<section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" id="icon-anchor-a"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" id="icon-anchor-b"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" id="icon-anchor-c"></path></svg></a></h3>
<ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="constructor.new_MarginAccount">new <wbr/>Margin<wbr/>Account<span class="tsd-signature-symbol">(</span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a>, provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span>, owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span>, seed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span>, walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><a href="#constructor.new_MarginAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Creates an instance of margin account.</p>

<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>programs: <a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li>
<h5>provider: <span class="tsd-signature-type">AnchorProvider</span></h5>
<div class="tsd-comment tsd-typography"><p>The provider and wallet that can sign for this margin account</p>
</div></li>
<li>
<h5>owner: <span class="tsd-signature-type">Address</span></h5></li>
<li>
<h5>seed: <span class="tsd-signature-type">number</span></h5></li>
<li>
<h5><code class="tsd-tag ts-flagOptional">Optional</code> pools: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span></h5></li>
<li>
<h5><code class="tsd-tag ts-flagOptional">Optional</code> walletTokens: <a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L205">libraries/ts/src/margin/marginAccount.ts:205</a></li></ul></aside></li></ul></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Properties</h2>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="address" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>address</span><a href="#address" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">address<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">PublicKey</span></div>
<div class="tsd-comment tsd-typography"><p>The address of the <a href="MarginAccount.html">MarginAccount</a></p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L139">libraries/ts/src/margin/marginAccount.ts:139</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="info" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>info</span><a href="#info" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">info<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{ </span>liquidationData<span class="tsd-signature-symbol">?: </span><a href="../types/LiquidationData.html" class="tsd-signature-type" data-tsd-kind="Type alias">LiquidationData</a><span class="tsd-signature-symbol">; </span>marginAccount<span class="tsd-signature-symbol">: </span><a href="../types/MarginAccountData.html" class="tsd-signature-type" data-tsd-kind="Type alias">MarginAccountData</a><span class="tsd-signature-symbol">; </span>positions<span class="tsd-signature-symbol">: </span><a href="../types/AccountPositionList.html" class="tsd-signature-type" data-tsd-kind="Type alias">AccountPositionList</a><span class="tsd-signature-symbol"> }</span></div>
<div class="tsd-comment tsd-typography"><p>The raw accounts associated with the margin account.</p>
</div>
<div class="tsd-type-declaration">
<h4>Type declaration</h4>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> liquidation<wbr/>Data<span class="tsd-signature-symbol">?: </span><a href="../types/LiquidationData.html" class="tsd-signature-type" data-tsd-kind="Type alias">LiquidationData</a></h5>
<div class="tsd-comment tsd-typography"><p>The decoded <a href="../types/LiquidationData.html">LiquidationData</a>. This may only be present during liquidation.</p>
</div></li>
<li class="tsd-parameter">
<h5>margin<wbr/>Account<span class="tsd-signature-symbol">: </span><a href="../types/MarginAccountData.html" class="tsd-signature-type" data-tsd-kind="Type alias">MarginAccountData</a></h5>
<div class="tsd-comment tsd-typography"><p>The decoded <a href="../types/MarginAccountData.html">MarginAccountData</a>.</p>
</div></li>
<li class="tsd-parameter">
<h5>positions<span class="tsd-signature-symbol">: </span><a href="../types/AccountPositionList.html" class="tsd-signature-type" data-tsd-kind="Type alias">AccountPositionList</a></h5>
<div class="tsd-comment tsd-typography"><p>The decoded position data in the margin account.</p>
</div></li></ul></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L129">libraries/ts/src/margin/marginAccount.ts:129</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="owner" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>owner</span><a href="#owner" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">owner<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">PublicKey</span></div>
<div class="tsd-comment tsd-typography"><p>The owner of the <a href="MarginAccount.html">MarginAccount</a></p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L141">libraries/ts/src/margin/marginAccount.ts:141</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="poolPositions" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>pool<wbr/>Positions</span><a href="#poolPositions" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">pool<wbr/>Positions<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="../interfaces/PoolPosition.html" class="tsd-signature-type" data-tsd-kind="Interface">PoolPosition</a><span class="tsd-signature-symbol">&gt;</span></div>
<div class="tsd-comment tsd-typography"><p>The summarized <a href="../interfaces/PoolPosition.html">PoolPosition</a> array of pool deposits and borrows.</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L145">libraries/ts/src/margin/marginAccount.ts:145</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="pools" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>pools</span><a href="#pools" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">pools<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L210">libraries/ts/src/margin/marginAccount.ts:210</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="positions-1" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>positions</span><a href="#positions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">positions<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol">[]</span></div>
<div class="tsd-comment tsd-typography"><p>The parsed AccountPosition array of the margin account.</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L143">libraries/ts/src/margin/marginAccount.ts:143</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="programs" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>programs</span><a href="#programs" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">programs<span class="tsd-signature-symbol">:</span> <a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L206">libraries/ts/src/margin/marginAccount.ts:206</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="provider" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>provider</span><a href="#provider" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">provider<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AnchorProvider</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L207">libraries/ts/src/margin/marginAccount.ts:207</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="seed" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>seed</span><a href="#seed" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">seed<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L209">libraries/ts/src/margin/marginAccount.ts:209</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="summary" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>summary</span><a href="#summary" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">summary<span class="tsd-signature-symbol">:</span> <a href="../interfaces/AccountSummary.html" class="tsd-signature-type" data-tsd-kind="Interface">AccountSummary</a></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L148">libraries/ts/src/margin/marginAccount.ts:148</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="valuation" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>valuation</span><a href="#valuation" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">valuation<span class="tsd-signature-symbol">:</span> <a href="../interfaces/Valuation.html" class="tsd-signature-type" data-tsd-kind="Interface">Valuation</a></div>
<div class="tsd-comment tsd-typography"><p>The <a href="../interfaces/Valuation.html">Valuation</a> of the margin account.</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L147">libraries/ts/src/margin/marginAccount.ts:147</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="walletTokens" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>wallet<wbr/>Tokens</span><a href="#walletTokens" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">wallet<wbr/>Tokens<span class="tsd-signature-symbol">?:</span> <a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L211">libraries/ts/src/margin/marginAccount.ts:211</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="RISK_CRITICAL_LEVEL" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>RISK_<wbr/>CRITICAL_<wbr/>LEVEL</span><a href="#RISK_CRITICAL_LEVEL" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">RISK_<wbr/>CRITICAL_<wbr/>LEVEL<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">0.9</span><span class="tsd-signature-symbol"> = 0.9</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L123">libraries/ts/src/margin/marginAccount.ts:123</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="RISK_LIQUIDATION_LEVEL" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>RISK_<wbr/>LIQUIDATION_<wbr/>LEVEL</span><a href="#RISK_LIQUIDATION_LEVEL" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">RISK_<wbr/>LIQUIDATION_<wbr/>LEVEL<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">1</span><span class="tsd-signature-symbol"> = 1</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L124">libraries/ts/src/margin/marginAccount.ts:124</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="RISK_WARNING_LEVEL" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>RISK_<wbr/>WARNING_<wbr/>LEVEL</span><a href="#RISK_WARNING_LEVEL" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">RISK_<wbr/>WARNING_<wbr/>LEVEL<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">0.8</span><span class="tsd-signature-symbol"> = 0.8</span></div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L122">libraries/ts/src/margin/marginAccount.ts:122</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="SEED_MAX_VALUE" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>SEED_<wbr/>MAX_<wbr/>VALUE</span><a href="#SEED_MAX_VALUE" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">SEED_<wbr/>MAX_<wbr/>VALUE<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">65535</span><span class="tsd-signature-symbol"> = 65535</span></div>
<div class="tsd-comment tsd-typography"><p>The maximum <a href="MarginAccount.html">MarginAccount</a> seed value equal to <code>65535</code>.
Seeds are a 16 bit number and therefor only 2^16 margin accounts may exist per wallet.</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L121">libraries/ts/src/margin/marginAccount.ts:121</a></li></ul></aside></section>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="SETUP_LEVERAGE_FRACTION" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>SETUP_<wbr/>LEVERAGE_<wbr/>FRACTION</span><a href="#SETUP_LEVERAGE_FRACTION" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<div class="tsd-signature">SETUP_<wbr/>LEVERAGE_<wbr/>FRACTION<span class="tsd-signature-symbol">:</span> <a href="Number128.html" class="tsd-signature-type" data-tsd-kind="Class">Number128</a><span class="tsd-signature-symbol"> = ...</span></div>
<div class="tsd-comment tsd-typography"><p>The maximum risk indicator allowed by the library when setting up a</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L126">libraries/ts/src/margin/marginAccount.ts:126</a></li></ul></aside></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Accessors</h2>
<section class="tsd-panel tsd-member tsd-kind-accessor tsd-parent-kind-class"><a id="isBeingLiquidated" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>is<wbr/>Being<wbr/>Liquidated</span><a href="#isBeingLiquidated" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-accessor tsd-parent-kind-class">
<li class="tsd-signature" id="isBeingLiquidated.isBeingLiquidated-1"><span class="tsd-signature-symbol">get</span> isBeingLiquidated<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Returns true if a <a href="../types/LiquidationData.html">LiquidationData</a> account exists and is associated with the <a href="MarginAccount.html">MarginAccount</a>.
Certain actions are not allowed while liquidation is in progress.</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L161">libraries/ts/src/margin/marginAccount.ts:161</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-accessor tsd-parent-kind-class"><a id="liquidaton" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>liquidaton</span><a href="#liquidaton" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-accessor tsd-parent-kind-class">
<li class="tsd-signature" id="liquidaton.liquidaton-1"><span class="tsd-signature-symbol">get</span> liquidaton<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PublicKey</span></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography">
<h3>Deprecated</h3><p>Please use <code>marginAccount.info.liquidation</code> instead</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PublicKey</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L154">libraries/ts/src/margin/marginAccount.ts:154</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-accessor tsd-parent-kind-class"><a id="liquidator" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>liquidator</span><a href="#liquidator" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-accessor tsd-parent-kind-class">
<li class="tsd-signature" id="liquidator.liquidator-1"><span class="tsd-signature-symbol">get</span> liquidator<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PublicKey</span></li>
<li class="tsd-description">
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PublicKey</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L150">libraries/ts/src/margin/marginAccount.ts:150</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-accessor tsd-parent-kind-class"><a id="riskIndicator" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>risk<wbr/>Indicator</span><a href="#riskIndicator" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-accessor tsd-parent-kind-class">
<li class="tsd-signature" id="riskIndicator.riskIndicator-1"><span class="tsd-signature-symbol">get</span> riskIndicator<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>A qualitative measure of the the health of a margin account.
A higher value means more risk in a qualitative sense.
Properties:
 non-negative, range is [0, infinity)
 zero only when an account has no exposure at all
 account is subject to liquidation at a value of one</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L172">libraries/ts/src/margin/marginAccount.ts:172</a></li></ul></aside></li></ul></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Methods</h2>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="closeAccount" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>close<wbr/>Account</span><a href="#closeAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="closeAccount.closeAccount-1">close<wbr/>Account<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#closeAccount.closeAccount-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Send a transaction to close the <a href="MarginAccount.html">MarginAccount</a> and return rent to the owner.
All positions must have a zero balance and be closed first.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Close all positions. A non zero balance results in an error</span><br/><span class="hl-1">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getPositions</span><span class="hl-0">()) {</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">closePosition</span><span class="hl-0">(</span><span class="hl-2">position</span><span class="hl-0">)</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">// Close the account and send the transaction</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">closeAccount</span><span class="hl-0">()</span>
</code></pre>

<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1311">libraries/ts/src/margin/marginAccount.ts:1311</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="closePosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>close<wbr/>Position</span><a href="#closePosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="closePosition.closePosition-1">close<wbr/>Position<span class="tsd-signature-symbol">(</span>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#closePosition.closePosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Send a transaction to close a position. A non-zero balance will result in a transaction error.
There is a limited capacity for positions so it is recommended to close positions that
are no longer needed.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load the pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Get the SOL position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">depositNoteMint</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> = </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getPosition</span><span class="hl-0">(</span><span class="hl-2">depositNoteMint</span><span class="hl-0">)</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">closePosition</span><span class="hl-0">(</span><span class="hl-2">position</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>position: <span class="tsd-signature-type">AccountPosition</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1378">libraries/ts/src/margin/marginAccount.ts:1378</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="computeRiskIndicator" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>compute<wbr/>Risk<wbr/>Indicator</span><a href="#computeRiskIndicator" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="computeRiskIndicator.computeRiskIndicator-1">compute<wbr/>Risk<wbr/>Indicator<span class="tsd-signature-symbol">(</span>requiredCollateral<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, weightedCollateral<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, liabilities<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><a href="#computeRiskIndicator.computeRiskIndicator-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Compute the risk indicator using components from <a href="../interfaces/Valuation.html">Valuation</a></p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>requiredCollateral: <span class="tsd-signature-type">number</span></h5></li>
<li>
<h5>weightedCollateral: <span class="tsd-signature-type">number</span></h5></li>
<li>
<h5>liabilities: <span class="tsd-signature-type">number</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L181">libraries/ts/src/margin/marginAccount.ts:181</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="createAccount" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>create<wbr/>Account</span><a href="#createAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="createAccount.createAccount-1">create<wbr/>Account<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#createAccount.createAccount-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create the margin account if it does not exist.
If no seed is provided, one will be located.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-javascript"><span class="hl-8">// Load programs</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">config</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">MarginClient</span><span class="hl-0">.</span><span class="hl-6">getConfig</span><span class="hl-0">(</span><span class="hl-3">&quot;devnet&quot;</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">programs</span><span class="hl-0"> = </span><span class="hl-2">MarginClient</span><span class="hl-0">.</span><span class="hl-6">getPrograms</span><span class="hl-0">(</span><span class="hl-2">provider</span><span class="hl-0">, </span><span class="hl-2">config</span><span class="hl-0">)</span><br/><br/><span class="hl-8">// Load tokens and wallet</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">walletTokens</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">MarginAccount</span><span class="hl-0">.</span><span class="hl-6">loadTokens</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">walletPubkey</span><span class="hl-0">)</span><br/><br/><span class="hl-8">// Create margin account</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">marginAccount</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">MarginAccount</span><span class="hl-0">({</span><br/><span class="hl-0">   </span><span class="hl-2">programs</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-2">provider</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-2">walletPubkey</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-7">0</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-2">pools</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-2">walletTokens</span><br/><span class="hl-0">})</span><br/><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">createAccount</span><span class="hl-0">()</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L922">libraries/ts/src/margin/marginAccount.ts:922</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="exists" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>exists</span><a href="#exists" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="exists.exists-1">exists<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#exists.exists-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Fetches the account and returns if it exists</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L793">libraries/ts/src/margin/marginAccount.ts:793</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="findLiquidationAddress" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>find<wbr/>Liquidation<wbr/>Address</span><a href="#findLiquidationAddress" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="findLiquidationAddress.findLiquidationAddress-1">find<wbr/>Liquidation<wbr/>Address<span class="tsd-signature-symbol">(</span>liquidator<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span><a href="#findLiquidationAddress.findLiquidationAddress-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Derive the address of a <a href="../types/LiquidationData.html">LiquidationData</a> account.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>liquidator: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">PublicKey</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L252">libraries/ts/src/margin/marginAccount.ts:252</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="findMetadataAddress" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>find<wbr/>Metadata<wbr/>Address</span><a href="#findMetadataAddress" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="findMetadataAddress.findMetadataAddress-1">find<wbr/>Metadata<wbr/>Address<span class="tsd-signature-symbol">(</span>account<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span><a href="#findMetadataAddress.findMetadataAddress-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Derive the address of a metadata account.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>Some account types such as pools, adapters and position mints have
metadata associated with them. The metadata type is determined by the account type.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>account: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">PublicKey</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L268">libraries/ts/src/margin/marginAccount.ts:268</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="findPositionTokenAddress" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>find<wbr/>Position<wbr/>Token<wbr/>Address</span><a href="#findPositionTokenAddress" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="findPositionTokenAddress.findPositionTokenAddress-1">find<wbr/>Position<wbr/>Token<wbr/>Address<span class="tsd-signature-symbol">(</span>positionTokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span><a href="#findPositionTokenAddress.findPositionTokenAddress-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Derive the address of a position token account associated with a <a href="MarginAccount.html">MarginAccount</a>
and position token mint.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>It is recommended to use other functions to find specfic position types. e.g. using <a href="Pool.html">Pool</a>.findDepositPositionAddress</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>positionTokenMint: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">PublicKey</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L285">libraries/ts/src/margin/marginAccount.ts:285</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getOrRegisterPosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Or<wbr/>Register<wbr/>Position</span><a href="#getOrRegisterPosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getOrRegisterPosition.getOrRegisterPosition-1">get<wbr/>Or<wbr/>Register<wbr/>Position<span class="tsd-signature-symbol">(</span>tokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span><a href="#getOrRegisterPosition.getOrRegisterPosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the AccountPosition PublicKey and sends a transaction to
create it if it doesn&#39;t exist.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>It is recommended to use other functions to register specfic position types. e.g. using <a href="Pool.html">Pool</a>.withRegisterDepositPosition</p>
<p>In web apps it&#39;s recommended to call <code>withGetOrCreatePosition</code> as part of a larger
transaction to prompt for a wallet signature less often.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load margin pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">depositNote</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getOrRegisterPosition</span><span class="hl-0">(</span><span class="hl-2">depositNote</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>tokenMint: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1140">libraries/ts/src/margin/marginAccount.ts:1140</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getPosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Position</span><a href="#getPosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getPosition.getPosition-1">get<wbr/>Position<span class="tsd-signature-symbol">(</span>mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><a href="#getPosition.getPosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the registerd AccountPosition associated with the position mint.
Throws an error if the position does not exist.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>mint: <span class="tsd-signature-type">Address</span></h5>
<div class="tsd-comment tsd-typography"><p>The position mint. For example a <a href="Pool.html">Pool</a> deposit note mint.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">AccountPosition</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L590">libraries/ts/src/margin/marginAccount.ts:590</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getPositionNullable" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Position<wbr/>Nullable</span><a href="#getPositionNullable" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getPositionNullable.getPositionNullable-1">get<wbr/>Position<wbr/>Nullable<span class="tsd-signature-symbol">(</span>mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountPosition</span><a href="#getPositionNullable.getPositionNullable-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the registerd AccountPosition associated with the position mint.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>mint: <span class="tsd-signature-type">Address</span></h5>
<div class="tsd-comment tsd-typography"><p>The position mint. For example a <a href="Pool.html">Pool</a> deposit note mint.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountPosition</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L603">libraries/ts/src/margin/marginAccount.ts:603</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getPositionPrice" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Position<wbr/>Price</span><a href="#getPositionPrice" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getPositionPrice.getPositionPrice-1">get<wbr/>Position<wbr/>Price<span class="tsd-signature-symbol">(</span>mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PriceInfo</span><a href="#getPositionPrice.getPositionPrice-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>mint: <span class="tsd-signature-type">PublicKey</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PriceInfo</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L626">libraries/ts/src/margin/marginAccount.ts:626</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getPositions" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Positions</span><a href="#getPositions" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getPositions.getPositions-1">get<wbr/>Positions<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol">[]</span><a href="#getPositions.getPositions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the array of regstered AccountPosition on this account</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol">[]</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L574">libraries/ts/src/margin/marginAccount.ts:574</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getRemainingLiquidationTime" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Remaining<wbr/>Liquidation<wbr/>Time</span><a href="#getRemainingLiquidationTime" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getRemainingLiquidationTime.getRemainingLiquidationTime-1">get<wbr/>Remaining<wbr/>Liquidation<wbr/>Time<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><a href="#getRemainingLiquidationTime.getRemainingLiquidationTime-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the time remaining on a liquidation until timeout in seconds.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>If <code>getRemainingLiquidationTime</code> is a negative number then <code>liquidationEnd</code> can be called
by the margin account owner regardless of the current margin account health.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1502">libraries/ts/src/margin/marginAccount.ts:1502</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="hasAuthority" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>has<wbr/>Authority</span><a href="#hasAuthority" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="hasAuthority.hasAuthority-1">has<wbr/>Authority<span class="tsd-signature-symbol">(</span>authority<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span><a href="#hasAuthority.hasAuthority-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Check if the given address is an authority for this margin account.
The owner has authority, as well as a liquidator only during liquidation.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>authority: <span class="tsd-signature-type">PublicKey</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L643">libraries/ts/src/margin/marginAccount.ts:643</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="liquidateEnd" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>liquidate<wbr/>End</span><a href="#liquidateEnd" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="liquidateEnd.liquidateEnd-1">liquidate<wbr/>End<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#liquidateEnd.liquidateEnd-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Send a transaction to end a liquidation.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>The <a href="MarginAccount.html">MarginAccount</a> can enter liquidation while it&#39;s <code>riskIndicator</code> is at or above 1.0.
Liquidation is in progress when <code>isBeingLiquidated</code> returns true.
Liquidation can only end when enough collateral is deposited or enough collateral is liquidated to lower <code>riskIndicator</code> sufficiently.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1449">libraries/ts/src/margin/marginAccount.ts:1449</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="refresh" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>refresh</span><a href="#refresh" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="refresh.refresh-1">refresh<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#refresh.refresh-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L376">libraries/ts/src/margin/marginAccount.ts:376</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="refreshPositionMetadata" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>refresh<wbr/>Position<wbr/>Metadata</span><a href="#refreshPositionMetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="refreshPositionMetadata.refreshPositionMetadata-1">refresh<wbr/>Position<wbr/>Metadata<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>positionMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#refreshPositionMetadata.refreshPositionMetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Sends a transaction to refresh the metadata for a position.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>When a position is registered some position mint metadata is copied to the position.
This data can become out of sync if the mint metadata is changed. Refreshing the position
metadata may at the benefit or detriment to the owner.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>positionMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>positionMint }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>position<wbr/>Mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1071">libraries/ts/src/margin/marginAccount.ts:1071</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="registerPosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>register<wbr/>Position</span><a href="#registerPosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="registerPosition.registerPosition-1">register<wbr/>Position<span class="tsd-signature-symbol">(</span>tokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#registerPosition.registerPosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Sends a transaction to register an AccountPosition for the mint. When registering a <a href="Pool.html">Pool</a> position,
the mint would not be Bitcoin or SOL, but rather the <code>depositNoteMint</code> or <code>loanNoteMint</code> found in <code>pool.addresses</code>.
A margin account has a limited capacity of positions.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>It is recommended to use other functions to register specfic position types. e.g. using <a href="Pool.html">Pool</a>.withRegisterDepositPosition</p>
<p>In web apps it&#39;s is recommended to use <code>withRegisterPosition</code> as part of a larget transaction
to prompt for a wallet signature less often.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load the pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Register the SOL deposit position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">depositNoteMint</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">registerPosition</span><span class="hl-0">(</span><span class="hl-2">depositNoteMint</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>tokenMint: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1231">libraries/ts/src/margin/marginAccount.ts:1231</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="sendAll" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>send<wbr/>All</span><a href="#sendAll" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="sendAll.sendAll-1">send<wbr/>All<span class="tsd-signature-symbol">(</span>transactions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#sendAll.sendAll-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Sends a collection of transactions using the <a href="MarginAccount.html">MarginAccount</a> AnchorProvider.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>This function has 2 additional features compared to <code>sendAll</code> from web3.js or anchor.</p>
<ul>
<li>Logging a Transaction error will include Transaction logs.</li>
<li>If an Transaction array element is itself a <code>TransactionInstruction[][]</code> this function will send those transactions in parallel.</li>
</ul>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>transactions: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1661">libraries/ts/src/margin/marginAccount.ts:1661</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="sendAndConfirm" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>send<wbr/>And<wbr/>Confirm</span><a href="#sendAndConfirm" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="sendAndConfirm.sendAndConfirm-1">send<wbr/>And<wbr/>Confirm<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span>, signers<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Signer</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#sendAndConfirm.sendAndConfirm-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Sends a transaction using the <a href="MarginAccount.html">MarginAccount</a> AnchorProvider</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li>
<li>
<h5><code class="tsd-tag ts-flagOptional">Optional</code> signers: <span class="tsd-signature-type">Signer</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1644">libraries/ts/src/margin/marginAccount.ts:1644</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="setPositionBalance" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>set<wbr/>Position<wbr/>Balance</span><a href="#setPositionBalance" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="setPositionBalance.setPositionBalance-1">set<wbr/>Position<wbr/>Balance<span class="tsd-signature-symbol">(</span>mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span>, account<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span>, balance<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BN</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountPosition</span><a href="#setPositionBalance.setPositionBalance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>mint: <span class="tsd-signature-type">PublicKey</span></h5></li>
<li>
<h5>account: <span class="tsd-signature-type">PublicKey</span></h5></li>
<li>
<h5>balance: <span class="tsd-signature-type">BN</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">AccountPosition</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L614">libraries/ts/src/margin/marginAccount.ts:614</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="setPositionPrice" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>set<wbr/>Position<wbr/>Price</span><a href="#setPositionPrice" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="setPositionPrice.setPositionPrice-1">set<wbr/>Position<wbr/>Price<span class="tsd-signature-symbol">(</span>mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PublicKey</span>, price<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PriceInfo</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#setPositionPrice.setPositionPrice-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>mint: <span class="tsd-signature-type">PublicKey</span></h5></li>
<li>
<h5>price: <span class="tsd-signature-type">PriceInfo</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L635">libraries/ts/src/margin/marginAccount.ts:635</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="stopLiquidation" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>stop<wbr/>Liquidation</span><a href="#stopLiquidation" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="stopLiquidation.stopLiquidation-1">stop<wbr/>Liquidation<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#stopLiquidation.stopLiquidation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography">
<h3>Deprecated</h3><p>This has been renamed to <code>liquidateEnd</code> and will be removed in a future release.</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1426">libraries/ts/src/margin/marginAccount.ts:1426</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="updateAllPositionBalances" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>update<wbr/>All<wbr/>Position<wbr/>Balances</span><a href="#updateAllPositionBalances" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="updateAllPositionBalances.updateAllPositionBalances-1">update<wbr/>All<wbr/>Position<wbr/>Balances<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#updateAllPositionBalances.updateAllPositionBalances-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Updates all position balances. <code>withUpdatePositionBalance</code> is often included
in transactions after modifying balances to synchronize with the margin account.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L969">libraries/ts/src/margin/marginAccount.ts:969</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="updatePositionBalance" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>update<wbr/>Position<wbr/>Balance</span><a href="#updatePositionBalance" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="updatePositionBalance.updatePositionBalance-1">update<wbr/>Position<wbr/>Balance<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#updatePositionBalance.updatePositionBalance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Updates a single position balance. <code>withUpdatePositionBalance</code> is often included
in transactions after modifying balances to synchronize with the margin account.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>position }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1004">libraries/ts/src/margin/marginAccount.ts:1004</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withAccountingInvoke" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Accounting<wbr/>Invoke</span><a href="#withAccountingInvoke" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withAccountingInvoke.withAccountingInvoke-1">with<wbr/>Accounting<wbr/>Invoke<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>adapterInstruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">; </span>adapterMetadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>adapterProgram<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withAccountingInvoke.withAccountingInvoke-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create an instruction to perform an action by invoking other adapter programs, allowing them only to
refresh the state of the margin account to be consistent with the actual
underlying prices or positions, but not permitting new position changes.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>This instruction is not invoked directly, but rather internally for example by <a href="Pool.html">Pool</a> when depositing.
Accounting invoke is necessary when several position values have to be refreshed but in the interim there
aren&#39;t enough fresh positions to satisfy margin requirements.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>adapterInstruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">; </span>adapterMetadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>adapterProgram<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>instructions,
    adapterProgram,
    adapterMetadata,
    adapterInstruction
  }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>adapter<wbr/>Instruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span></h5></li>
<li class="tsd-parameter">
<h5>adapter<wbr/>Metadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5>adapter<wbr/>Program<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1590">libraries/ts/src/margin/marginAccount.ts:1590</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withAdapterInvoke" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Adapter<wbr/>Invoke</span><a href="#withAdapterInvoke" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withAdapterInvoke.withAdapterInvoke-1">with<wbr/>Adapter<wbr/>Invoke<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>adapterInstruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">; </span>adapterMetadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>adapterProgram<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withAdapterInvoke.withAdapterInvoke-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create an instruction that performs an action by invoking other adapter programs, allowing them to alter
the balances of the token accounts belonging to this margin account. The transaction fails if the <a href="MarginAccount.html">MarginAccount</a>
does not have sufficent collateral.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>This instruction is not invoked directly, but rather internally for example by <a href="Pool.html">Pool</a> when depositing.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>adapterInstruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">; </span>adapterMetadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>adapterProgram<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>instructions,
    adapterProgram,
    adapterMetadata,
    adapterInstruction
  }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>adapter<wbr/>Instruction<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span></h5></li>
<li class="tsd-parameter">
<h5>adapter<wbr/>Metadata<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5>adapter<wbr/>Program<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1541">libraries/ts/src/margin/marginAccount.ts:1541</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withCloseAccount" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Close<wbr/>Account</span><a href="#withCloseAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withCloseAccount.withCloseAccount-1">with<wbr/>Close<wbr/>Account<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withCloseAccount.withCloseAccount-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create an instruction to close the <a href="MarginAccount.html">MarginAccount</a> and return rent to the owner.
All positions must have a zero balance and be closed first.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><br/><span class="hl-8">// Close all positions. A non zero balance results in an error</span><br/><span class="hl-1">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getPositions</span><span class="hl-0">()) {</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withClosePosition</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">, </span><span class="hl-2">position</span><span class="hl-0">)</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">// Close the account and send the transaction</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withCloseAccount</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1340">libraries/ts/src/margin/marginAccount.ts:1340</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withClosePosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Close<wbr/>Position</span><a href="#withClosePosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withClosePosition.withClosePosition-1">with<wbr/>Close<wbr/>Position<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span>, position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AccountPosition</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withClosePosition.withClosePosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create an instruction to close a position. A non-zero balance will result in a transaction error.
There is a limited capacity for positions so it is recommended to close positions that
are no longer needed.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load the pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Get the SOL position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">depositNoteMint</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> = </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getPosition</span><span class="hl-0">(</span><span class="hl-2">depositNoteMint</span><span class="hl-0">)</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">closePosition</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">, </span><span class="hl-2">position</span><span class="hl-0">)</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li>
<li>
<h5>position: <span class="tsd-signature-type">AccountPosition</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1410">libraries/ts/src/margin/marginAccount.ts:1410</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withCreateAccount" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Create<wbr/>Account</span><a href="#withCreateAccount" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withCreateAccount.withCreateAccount-1">with<wbr/>Create<wbr/>Account<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withCreateAccount.withCreateAccount-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get instruction to create the account if it does not exist.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withCreateAccount</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span><br/><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">instructions</span><span class="hl-0">.</span><span class="hl-2">length</span><span class="hl-0"> &gt; </span><span class="hl-7">0</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span><br/><span class="hl-0">}</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L947">libraries/ts/src/margin/marginAccount.ts:947</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withGetOrRegisterPosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Get<wbr/>Or<wbr/>Register<wbr/>Position</span><a href="#withGetOrRegisterPosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withGetOrRegisterPosition.withGetOrRegisterPosition-1">with<wbr/>Get<wbr/>Or<wbr/>Register<wbr/>Position<span class="tsd-signature-symbol">(</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionTokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span><a href="#withGetOrRegisterPosition.withGetOrRegisterPosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get the AccountPosition PublicKey and appends an instructon to
create it if it doesn&#39;t exist.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>It is recommended to use other functions to register specfic position types. e.g. using <a href="Pool.html">Pool</a>.withRegisterDepositPosition</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load margin pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Register position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">positionTokenMint</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withGetOrRegisterPosition</span><span class="hl-0">({ </span><span class="hl-2">instructions</span><span class="hl-0">, </span><span class="hl-2">positionTokenMint</span><span class="hl-0"> })</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>args: <span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionTokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span></h5>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5>
<div class="tsd-comment tsd-typography"><p>The instructions to append to</p>
</div></li>
<li class="tsd-parameter">
<h5>position<wbr/>Token<wbr/>Mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5>
<div class="tsd-comment tsd-typography"><p>The position mint to register a position for</p>
</div></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1188">libraries/ts/src/margin/marginAccount.ts:1188</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withLiquidateEnd" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Liquidate<wbr/>End</span><a href="#withLiquidateEnd" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withLiquidateEnd.withLiquidateEnd-1">with<wbr/>Liquidate<wbr/>End<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withLiquidateEnd.withLiquidateEnd-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get instruction to end a liquidation</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>The <a href="MarginAccount.html">MarginAccount</a> can enter liquidation while it&#39;s <code>riskIndicator</code> is at or above 1.0.
Liquidation is in progress when <code>isBeingLiquidated</code> returns true.</p>

<a href="#authority" id="authority" style="color: inherit; text-decoration: none;">
  <h2>Authority</h2>
</a>
<p>The <a href="MarginAccount.html">MarginAccount</a>.<code>provider</code>.<code>wallet</code> will be used as the authority for the transaction.
The liquidator may end the liquidation at any time.
The margin account owner may end the liquidation only when at least one condition is true:</p>
<ol>
<li>When enough collateral is deposited or enough collateral is liquidated to lower <code>riskIndicator</code> sufficiently.</li>
<li>When the liquidation has timed out when <a href="MarginAccount.html">MarginAccount</a><code>.getRemainingLiquidationTime()</code> is negative</li>
</ol>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5>
<div class="tsd-comment tsd-typography"><p>The instructions to append to</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1475">libraries/ts/src/margin/marginAccount.ts:1475</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withRefreshPositionMetadata" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Refresh<wbr/>Position<wbr/>Metadata</span><a href="#withRefreshPositionMetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withRefreshPositionMetadata.withRefreshPositionMetadata-1">with<wbr/>Refresh<wbr/>Position<wbr/>Metadata<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withRefreshPositionMetadata.withRefreshPositionMetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Creates an instruction to refresh the metadata for a position.</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>When a position is registered some position mint metadata is copied to the position.
This data can become out of sync if the mint metadata is changed. Refreshing the position
metadata may at the benefit or detriment to the owner.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>instructions,
    positionMint
  }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li>
<li class="tsd-parameter">
<h5>position<wbr/>Mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1096">libraries/ts/src/margin/marginAccount.ts:1096</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withRegisterPosition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Register<wbr/>Position</span><a href="#withRegisterPosition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withRegisterPosition.withRegisterPosition-1">with<wbr/>Register<wbr/>Position<span class="tsd-signature-symbol">(</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionTokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span><a href="#withRegisterPosition.withRegisterPosition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get instruction to register new position</p>

<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
  <h2>Remarks</h2>
</a>
<p>It is recommended to use other functions to register specfic position types. e.g. using <a href="Pool.html">Pool</a>.withRegisterDepositPosition</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load the pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Register the SOL deposit position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">positionTokenMint</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withRegisterPosition</span><span class="hl-0">({ </span><span class="hl-2">instructions</span><span class="hl-0">, </span><span class="hl-2">positionTokenMint</span><span class="hl-0"> })</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3><p>Returns the instruction, and the address of the token account to be created for the position.</p>

<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>args: <span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>positionTokenMint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span></h5>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5>
<div class="tsd-comment tsd-typography"><p>Instructions array to append to.</p>
</div></li>
<li class="tsd-parameter">
<h5>position<wbr/>Token<wbr/>Mint<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5>
<div class="tsd-comment tsd-typography"><p>The mint for the relevant token for the position</p>
</div></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PublicKey</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1265">libraries/ts/src/margin/marginAccount.ts:1265</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withStopLiquidation" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Stop<wbr/>Liquidation</span><a href="#withStopLiquidation" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withStopLiquidation.withStopLiquidation-1">with<wbr/>Stop<wbr/>Liquidation<span class="tsd-signature-symbol">(</span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withStopLiquidation.withStopLiquidation-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get instruction to end a liquidation</p>

<h3>Deprecated</h3><p>This has been renamed to <code>withLiquidateEnd</code> and will be removed in a future release.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>instructions: <span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1433">libraries/ts/src/margin/marginAccount.ts:1433</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withUpdateAllPositionBalances" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Update<wbr/>All<wbr/>Position<wbr/>Balances</span><a href="#withUpdateAllPositionBalances" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withUpdateAllPositionBalances.withUpdateAllPositionBalances-1">with<wbr/>Update<wbr/>All<wbr/>Position<wbr/>Balances<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withUpdateAllPositionBalances.withUpdateAllPositionBalances-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create instructions to update all position balances. <code>withUpdatePositionBalance</code> often included in
transactions after modifying balances ot synchronize with the margin account.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withUpdateAllPositionBalances</span><span class="hl-0">({ </span><span class="hl-2">instructions</span><span class="hl-0"> })</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>instructions }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L990">libraries/ts/src/margin/marginAccount.ts:990</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="withUpdatePositionBalance" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>with<wbr/>Update<wbr/>Position<wbr/>Balance</span><a href="#withUpdatePositionBalance" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="withUpdatePositionBalance.withUpdatePositionBalance-1">with<wbr/>Update<wbr/>Position<wbr/>Balance<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#withUpdatePositionBalance.withUpdatePositionBalance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Get instruction to update the accounting for assets in
the custody of the margin account.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-ts"><span class="hl-8">// Load the pools</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">poolManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">PoolManager</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">provider</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><br/><span class="hl-8">// Find the position</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">depositNote</span><span class="hl-0"> = </span><span class="hl-2">pools</span><span class="hl-0">[</span><span class="hl-3">&quot;SOL&quot;</span><span class="hl-0">].</span><span class="hl-2">addresses</span><span class="hl-0">.</span><span class="hl-2">depositNoteMint</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">position</span><span class="hl-0"> = </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">getPosition</span><span class="hl-0">(</span><span class="hl-2">depositNote</span><span class="hl-0">).</span><span class="hl-2">address</span><br/><br/><span class="hl-8">// Update the position balance</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">instructions</span><span class="hl-0">: </span><span class="hl-10">TransactionInstruction</span><span class="hl-0">[] = []</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">withUpdatePositionBalance</span><span class="hl-0">({ </span><span class="hl-2">instructions</span><span class="hl-0">, </span><span class="hl-2">position</span><span class="hl-0"> })</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">marginAccount</span><span class="hl-0">.</span><span class="hl-6">sendAndConfirm</span><span class="hl-0">(</span><span class="hl-2">instructions</span><span class="hl-0">)</span>
</code></pre>

<h3>Returns</h3><p>{Promise<void>}</p>

<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>instructions,
    position
  }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>instructions<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TransactionInstruction</span><span class="tsd-signature-symbol">[]</span></h5></li>
<li class="tsd-parameter">
<h5>position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L1041">libraries/ts/src/margin/marginAccount.ts:1041</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="createAccount-2" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>create<wbr/>Account</span><a href="#createAccount-2" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="createAccount-2.createAccount-3">create<wbr/>Account<span class="tsd-signature-symbol">(</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>seed<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">&gt;</span><a href="#createAccount-2.createAccount-3" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Create the margin account if it does not exist.
If no seed is provided, one will be located.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<pre><code class="language-javascript"><span class="hl-8">// Load programs</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">config</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">MarginClient</span><span class="hl-0">.</span><span class="hl-6">getConfig</span><span class="hl-0">(</span><span class="hl-3">&quot;devnet&quot;</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">programs</span><span class="hl-0"> = </span><span class="hl-2">MarginClient</span><span class="hl-0">.</span><span class="hl-6">getPrograms</span><span class="hl-0">(</span><span class="hl-2">provider</span><span class="hl-0">, </span><span class="hl-2">config</span><span class="hl-0">)</span><br/><br/><span class="hl-8">// Load tokens and wallet</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">pools</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">poolManager</span><span class="hl-0">.</span><span class="hl-6">loadAll</span><span class="hl-0">()</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">walletTokens</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">MarginAccount</span><span class="hl-0">.</span><span class="hl-6">loadTokens</span><span class="hl-0">(</span><span class="hl-2">programs</span><span class="hl-0">, </span><span class="hl-2">walletPubkey</span><span class="hl-0">)</span><br/><br/><span class="hl-8">// Create margin account</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">marginAccount</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">MarginAccount</span><span class="hl-0">.</span><span class="hl-6">createAccount</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">programs</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">provider</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">owner:</span><span class="hl-0"> </span><span class="hl-2">wallet</span><span class="hl-0">.</span><span class="hl-2">publicKey</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">seed:</span><span class="hl-0"> </span><span class="hl-7">0</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">pools</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">walletTokens</span><br/><span class="hl-0">})</span>
</code></pre>

<h3>Static</h3>
<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>args: <span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>seed<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span></h5>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5>
<div class="tsd-comment tsd-typography"><p>The address of the <a href="MarginAccount.html">MarginAccount</a> owner</p>
</div></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span></h5>
<div class="tsd-comment tsd-typography"><p>A <a href="Pool.html">Pool</a> collection to calculate pool positions.</p>
</div></li>
<li class="tsd-parameter">
<h5>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li class="tsd-parameter">
<h5>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span></h5>
<div class="tsd-comment tsd-typography"><p>A provider that may be used to sign transactions modifying the account</p>
</div></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> seed<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>The seed or ID of the <a href="MarginAccount.html">MarginAccount</a> in the range of (0, 65535]</p>
</div></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> wallet<wbr/>Tokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a></h5>
<div class="tsd-comment tsd-typography"><p>The tokens in the owners wallet to determine max trade amounts.</p>
</div></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L834">libraries/ts/src/margin/marginAccount.ts:834</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="exists-2" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>exists</span><a href="#exists-2" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="exists-2.exists-3">exists<span class="tsd-signature-symbol">(</span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a>, owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span>, seed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#exists-2.exists-3" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Fetches the account and returns if it exists.</p>

<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>programs: <a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li>
<h5>owner: <span class="tsd-signature-type">Address</span></h5></li>
<li>
<h5>seed: <span class="tsd-signature-type">number</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L780">libraries/ts/src/margin/marginAccount.ts:780</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getUnusedAccountSeed" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>get<wbr/>Unused<wbr/>Account<wbr/>Seed</span><a href="#getUnusedAccountSeed" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="getUnusedAccountSeed.getUnusedAccountSeed-1">get<wbr/>Unused<wbr/>Account<wbr/>Seed<span class="tsd-signature-symbol">(</span>__namedParameters<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#getUnusedAccountSeed.getUnusedAccountSeed-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Searches for a margin account that does not exist yet and returns its seed.</p>

<h3>Static</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>__namedParameters: <span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol"> }</span></h5>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li class="tsd-parameter">
<h5>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L868">libraries/ts/src/margin/marginAccount.ts:868</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="load" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>load</span><a href="#load" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="load.load-1">load<span class="tsd-signature-symbol">(</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>seed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">&gt;</span><a href="#load.load-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography">
<h3>Returns</h3></div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>args: <span class="tsd-signature-symbol">{ </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>seed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span></h5>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span></h5>
<div class="tsd-comment tsd-typography"><p>Collection of <a href="Pool.html">Pool</a> to calculate pool positions and prices.</p>
</div></li>
<li class="tsd-parameter">
<h5>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li class="tsd-parameter">
<h5>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span></h5>
<div class="tsd-comment tsd-typography"><p>The provider and wallet that can sign for this margin account</p>
</div></li>
<li class="tsd-parameter">
<h5>seed<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> wallet<wbr/>Tokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a></h5>
<div class="tsd-comment tsd-typography"><p>Tokens owned by the wallet to calculate max deposit amounts.</p>
</div></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L301">libraries/ts/src/margin/marginAccount.ts:301</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="loadAllByOwner" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>load<wbr/>All<wbr/>By<wbr/>Owner</span><a href="#loadAllByOwner" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="loadAllByOwner.loadAllByOwner-1">load<wbr/>All<wbr/>By<wbr/>Owner<span class="tsd-signature-symbol">(</span>{<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>filters<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">GetProgramAccountsFilter</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#loadAllByOwner.loadAllByOwner-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Load all margin accounts for a wallet with an optional filter.</p>

<h3>Static</h3>
<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>{: <span class="tsd-signature-symbol">{ </span>filters<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">GetProgramAccountsFilter</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">; </span>pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a><span class="tsd-signature-symbol">; </span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span><span class="tsd-signature-symbol">; </span>walletTokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol"> }</span></h5>
<div class="tsd-comment tsd-typography"><p>programs,
    provider,
    pools,
    walletTokens,
    filters
  }</p>
</div>
<ul class="tsd-parameters">
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> filters<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">GetProgramAccountsFilter</span><span class="tsd-signature-symbol">[]</span></h5></li>
<li class="tsd-parameter">
<h5>owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span></h5></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> pools<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><a href="Pool.html" class="tsd-signature-type" data-tsd-kind="Class">Pool</a><span class="tsd-signature-symbol">&gt;</span></h5></li>
<li class="tsd-parameter">
<h5>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li class="tsd-parameter">
<h5>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AnchorProvider</span></h5></li>
<li class="tsd-parameter">
<h5><code class="tsd-tag ts-flagOptional">Optional</code> wallet<wbr/>Tokens<span class="tsd-signature-symbol">?: </span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a></h5></li></ul></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MarginAccount.html" class="tsd-signature-type" data-tsd-kind="Class">MarginAccount</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L341">libraries/ts/src/margin/marginAccount.ts:341</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="loadTokens" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>load<wbr/>Tokens</span><a href="#loadTokens" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class">
<li class="tsd-signature tsd-anchor-link" id="loadTokens.loadTokens-1">load<wbr/>Tokens<span class="tsd-signature-symbol">(</span>programs<span class="tsd-signature-symbol">: </span><a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a>, owner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Address</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol">&gt;</span><a href="#loadTokens.loadTokens-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Loads all tokens in the users wallet.
Provides an array and a map of tokens mapped by pool.</p>

<h3>Static</h3>
<h3>Returns</h3>
<h3>Memberof</h3><p>MarginAccount</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>programs: <a href="../interfaces/MarginPrograms.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginPrograms</a></h5></li>
<li>
<h5>owner: <span class="tsd-signature-type">Address</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MarginWalletTokens.html" class="tsd-signature-type" data-tsd-kind="Interface">MarginWalletTokens</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/jet-lab/jet-v2/blob/46674cc/libraries/ts/src/margin/marginAccount.ts#L741">libraries/ts/src/margin/marginAccount.ts:741</a></li></ul></aside></li></ul></section></section></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li><a href="../modules.html">@jet-<wbr/>lab/margin -<wbr/> v0.2.11</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="current tsd-kind-class"><a href="MarginAccount.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg><span>Margin<wbr/>Account</span></a>
<ul>
<li class="tsd-kind-constructor tsd-parent-kind-class"><a href="MarginAccount.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-512-path"></use><use href="#icon-512-text"></use></svg>constructor</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#address" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>address</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#info" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>info?</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#owner" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>owner</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#poolPositions" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>pool<wbr/>Positions</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#pools" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>pools?</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#positions-1" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>positions</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#programs" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>programs</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#provider" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>provider</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#seed" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>seed</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#summary" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>summary</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#valuation" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>valuation</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#walletTokens" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>wallet<wbr/>Tokens?</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#RISK_CRITICAL_LEVEL" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>RISK_<wbr/>CRITICAL_<wbr/>LEVEL</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#RISK_LIQUIDATION_LEVEL" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>RISK_<wbr/>LIQUIDATION_<wbr/>LEVEL</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#RISK_WARNING_LEVEL" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>RISK_<wbr/>WARNING_<wbr/>LEVEL</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#SEED_MAX_VALUE" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>SEED_<wbr/>MAX_<wbr/>VALUE</a></li>
<li class="tsd-kind-property tsd-parent-kind-class"><a href="MarginAccount.html#SETUP_LEVERAGE_FRACTION" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>SETUP_<wbr/>LEVERAGE_<wbr/>FRACTION</a></li>
<li class="tsd-kind-accessor tsd-parent-kind-class"><a href="MarginAccount.html#isBeingLiquidated" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg>is<wbr/>Being<wbr/>Liquidated</a></li>
<li class="tsd-kind-accessor tsd-parent-kind-class"><a href="MarginAccount.html#liquidaton" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg>liquidaton</a></li>
<li class="tsd-kind-accessor tsd-parent-kind-class"><a href="MarginAccount.html#liquidator" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg>liquidator</a></li>
<li class="tsd-kind-accessor tsd-parent-kind-class"><a href="MarginAccount.html#riskIndicator" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-262144-path"></use><use href="#icon-262144-text"></use></svg>risk<wbr/>Indicator</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#closeAccount" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>close<wbr/>Account</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#closePosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>close<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#computeRiskIndicator" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>compute<wbr/>Risk<wbr/>Indicator</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#createAccount" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>create<wbr/>Account</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#exists" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>exists</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#findLiquidationAddress" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>find<wbr/>Liquidation<wbr/>Address</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#findMetadataAddress" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>find<wbr/>Metadata<wbr/>Address</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#findPositionTokenAddress" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>find<wbr/>Position<wbr/>Token<wbr/>Address</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getOrRegisterPosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Or<wbr/>Register<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getPosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getPositionNullable" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Position<wbr/>Nullable</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getPositionPrice" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Position<wbr/>Price</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getPositions" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Positions</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getRemainingLiquidationTime" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Remaining<wbr/>Liquidation<wbr/>Time</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#hasAuthority" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>has<wbr/>Authority</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#liquidateEnd" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>liquidate<wbr/>End</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#refresh" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>refresh</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#refreshPositionMetadata" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>refresh<wbr/>Position<wbr/>Metadata</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#registerPosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>register<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#sendAll" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>send<wbr/>All</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#sendAndConfirm" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>send<wbr/>And<wbr/>Confirm</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#setPositionBalance" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>set<wbr/>Position<wbr/>Balance</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#setPositionPrice" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>set<wbr/>Position<wbr/>Price</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#stopLiquidation" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>stop<wbr/>Liquidation</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#updateAllPositionBalances" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>update<wbr/>All<wbr/>Position<wbr/>Balances</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#updatePositionBalance" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>update<wbr/>Position<wbr/>Balance</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withAccountingInvoke" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Accounting<wbr/>Invoke</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withAdapterInvoke" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Adapter<wbr/>Invoke</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withCloseAccount" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Close<wbr/>Account</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withClosePosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Close<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withCreateAccount" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Create<wbr/>Account</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withGetOrRegisterPosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Get<wbr/>Or<wbr/>Register<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withLiquidateEnd" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Liquidate<wbr/>End</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withRefreshPositionMetadata" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Refresh<wbr/>Position<wbr/>Metadata</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withRegisterPosition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Register<wbr/>Position</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withStopLiquidation" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Stop<wbr/>Liquidation</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withUpdateAllPositionBalances" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Update<wbr/>All<wbr/>Position<wbr/>Balances</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#withUpdatePositionBalance" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>with<wbr/>Update<wbr/>Position<wbr/>Balance</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#createAccount-2" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>create<wbr/>Account</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#exists-2" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>exists</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#getUnusedAccountSeed" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Unused<wbr/>Account<wbr/>Seed</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#load" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>load</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#loadAllByOwner" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>load<wbr/>All<wbr/>By<wbr/>Owner</a></li>
<li class="tsd-kind-method tsd-parent-kind-class"><a href="MarginAccount.html#loadTokens" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>load<wbr/>Tokens</a></li></ul></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="../assets/main.js"></script></body></html>